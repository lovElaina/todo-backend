{"version":3,"sources":["Todo/components/Header/Header.jsx","Todo/components/Item/Item.jsx","Todo/components/List/List.jsx","Todo/components/Footer/Footer.jsx","Todo/Todo.js","App.jsx","reportWebVitals.js","index.js"],"names":["Header","num","state","tmp","handleKeyUp","event","keyCode","target","value","trim","todoObj","id","Date","now","item","completed","axios","post","then","res","data","code","alert","props","add","catch","err","console","log","window","confirm","inputChange","val","refs","input","setState","handleClick","className","ref","onChange","this","onKeyUp","type","placeholder","onClick","Component","Item","mouse","handleMouse","flag","handleCheck","updateTodo","handleDelete","deleteTodo","style","backgroundColor","onMouseEnter","onMouseLeave","checked","display","List","todosq","map","todo","Footer","checkAllTodo","handleDeleteAll","deleteAllTodo","todos","allCount","length","curCount","i","Todo","refresh","get","addTodo","put","delete","isdone","forEach","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d00e9c55.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport \"./Header.css\"\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Header extends Component {\r\n\r\n    num=0;\r\n\r\n    state={tmp:''}\r\n\r\n    handleKeyUp=(event)=>{\r\n        const {keyCode,target}=event;\r\n        if(keyCode!==13)return;\r\n        if(target.value.trim()===\"\"){\r\n            alert(\"输入不能为空\")\r\n            return;\r\n        }\r\n\r\n\r\n        const todoObj={id:Date.now(),item:target.value,completed:0}\r\n        axios.post('/todo', todoObj).then(res=>{\r\n            if(res.data.code===1001){\r\n                alert(\"不能重复输入，请检查todo列表\")\r\n            }\r\n            this.props.add()\r\n            target.value=\"\"\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n        })\r\n    }\r\n\r\n    inputChange=()=>{\r\n        let val = this.refs.input.value;\r\n        this.setState({tmp:val})\r\n    }\r\n\r\n    handleClick=()=>{\r\n        const val = this.state.tmp\r\n        if(val.trim()===\"\"){\r\n            alert(\"输入不能为空\")\r\n            return;\r\n        }\r\n        const todoObj={id:Date.now(),item:val,completed:0}\r\n        axios.post('/todo', todoObj).then(res=>{\r\n            if(res.data.code===1001){\r\n                alert(\"不能重复输入，请检查todo列表\")\r\n            }\r\n            this.props.add()\r\n            this.refs.input.value=\"\";\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n        })\r\n\r\n        //this.props.add(todoObj)\r\n        //this.refs.input.value=\"\";\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n                <div className=\"todo-header\">\r\n                    <div className=\"todo-sub\">\r\n                    <input ref=\"input\" onChange={this.inputChange} onKeyUp={this.handleKeyUp} type=\"text\" placeholder=\"请输入你的任务名称，按回车键确认\"/>\r\n                    <button className=\"btn-add\" onClick={this.handleClick}>添加任务</button>\r\n                    </div>\r\n                </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport \"./Item.css\"\r\nclass Item extends Component {\r\n\r\n    state={mouse:false}\r\n\r\n    handleMouse=(flag)=>{\r\n        return ()=>{\r\n            this.setState({mouse:flag})\r\n        }\r\n    }\r\n\r\n    handleCheck=(id)=>{\r\n        return (event)=>{\r\n            //this.props.updateTodo(id,event.target.checked ? 1 : 0)\r\n            this.props.updateTodo(id)\r\n        }\r\n    }\r\n\r\n    handleDelete=(id)=>{\r\n        if(window.confirm(\"确定要删除吗\")){\r\n            this.props.deleteTodo(id)\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        const {id,completed,item}=this.props;\r\n\r\n        return (\r\n\r\n                <li style={{backgroundColor:this.state.mouse?'#ddd':'white'}}\r\n                    onMouseEnter={this.handleMouse(true)} onMouseLeave={this.handleMouse(false)}>\r\n                    <label>\r\n                        <input type=\"checkbox\" checked={completed === 1} onChange={this.handleCheck(id)}/>\r\n                        <span>{item}</span>\r\n                    </label>\r\n                    <button onClick={()=>{this.handleDelete(id)}} className=\"btn btn-danger\" style={{display:this.state.mouse?'block':'none'}}>删除</button>\r\n                </li>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Item;","import React, {Component} from 'react';\r\nimport Item from \"../Item/Item\";\r\nimport \"./List.css\"\r\nclass List extends Component {\r\n\r\n    render() {\r\n        let i=0;\r\n        let arr=[];\r\n        const {todosq,updateTodo,deleteTodo} = this.props;\r\n\r\n\r\n\r\n        /*for(i;i<todosq.length;i++){\r\n            arr.push(<Item key={todosq[i].id} id={todosq[i].id} name={todosq[i].name} done={todosq[i].done} updateTodo={updateTodo} deleteTodo={deleteTodo}/>)\r\n        }*/\r\n\r\n        return (\r\n\r\n                <ul className=\"todo-main\">\r\n                    {\r\n                        todosq.map(todo => {\r\n                            return <Item key={todo.id} {...todo} updateTodo={updateTodo} deleteTodo={deleteTodo}/>\r\n                        })\r\n\r\n                    }\r\n                    {/*{arr}*/}\r\n                </ul>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default List;","import React, {Component} from 'react';\r\nimport \"./Footer.css\"\r\n\r\nclass Footer extends Component {\r\n\r\n    handleCheck=(event)=>{\r\n        this.props.checkAllTodo(event.target.checked ? 1 : 0);\r\n    }\r\n\r\n    handleDeleteAll=()=>{\r\n        if(window.confirm(\"确定要删除全部勾选的任务吗\")){\r\n            this.props.deleteAllTodo()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {todos}=this.props\r\n        let allCount = todos.length\r\n        let curCount = 0\r\n        for(let i=0;i<allCount;i++){\r\n            if(todos[i].completed===1){\r\n                curCount++;\r\n            }\r\n        }\r\n\r\n        return (\r\n\r\n                <div className=\"todo-footer\">\r\n                    <label>\r\n                        <input type=\"checkbox\" checked={allCount === curCount && allCount!==0} onChange={this.handleCheck}/>\r\n                    </label>\r\n                    <span>\r\n                            <span>完成{curCount}</span> / 全部{allCount}\r\n                            </span>\r\n                    <button className=\"btn btn-danger\" onClick={this.handleDeleteAll}>清除已完成任务</button>\r\n                </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React, {Component} from 'react';\r\nimport './Todo.css'\r\nimport Header from \"./components/Header/Header\";\r\nimport List from \"./components/List/List\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport axios from \"axios\";\r\n\r\nclass Todo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        //this.state = {todos:[{id:123,name:\"dwwdw\",done:true},{id:456,name:\"qwergv\",done:false}]}\r\n        this.state = {todos:[]}\r\n    }\r\n\r\n    refresh = () => {\r\n        axios.get('/todo').then(res=>{\r\n            console.log(res.data.data);\r\n            this.setState({todos:res.data.data})\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refresh()\r\n    }\r\n\r\n    //state = {todos:JSON.parse(localStorage.getItem(\"key\"))}\r\n\r\n    //state = {todos:[]}\r\n\r\n    addTodo=()=>{\r\n        this.refresh()\r\n    }\r\n\r\n    updateTodo=(id)=>{\r\n        axios.put(`/todo/${id}`).then(res=>{\r\n            console.log(res);\r\n            this.refresh()\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n        })\r\n\r\n\r\n\r\n        // const{todos}=this.state;\r\n        // const newTodos=todos.map((todoObj)=>{\r\n        //         if(todoObj.id===id)return {...todoObj,completed:isdone};\r\n        //         else return todoObj;\r\n        //     }\r\n        // )\r\n        // this.setState({todos: newTodos});\r\n\r\n    }\r\n\r\n    deleteTodo=(id)=>{\r\n        axios.delete(`/todo/${id}`).then(res=>{\r\n            console.log(res);\r\n            this.refresh()\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n        })\r\n\r\n    }\r\n\r\n    checkAllTodo=(isdone)=>{\r\n        const {todos}=this.state;\r\n        todos.forEach((todoObj)=>{\r\n            if(todoObj.completed !== isdone){\r\n                axios.put(`/todo/${todoObj.id}`).then(res=>{\r\n                    this.refresh()\r\n                }).catch(err=>{\r\n                    console.log(err)\r\n                    window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteAllTodo=()=>{\r\n        const {todos}=this.state\r\n        todos.forEach((todoObj)=>{\r\n            if(todoObj.completed === 1){\r\n                axios.delete(`/todo/${todoObj.id}`).then(res=>{\r\n                    this.refresh()\r\n                }).catch(err=>{\r\n                    console.log(err)\r\n                    window.confirm(\"系统异常，请联系作者：张一琛，或按F12查看报错信息\")\r\n                })\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const {todos}=this.state\r\n\r\n        return (\r\n                <div className=\"todo-container\">\r\n                    <div className=\"todo-logo\">\r\n                        Todo-List\r\n                    </div>\r\n\r\n                    <div className=\"todo-wrap\">\r\n                        <Header add={this.addTodo}/>\r\n                        <List todosq={todos} updateTodo={this.updateTodo} deleteTodo={this.deleteTodo}/>\r\n                        <Footer todos={todos} checkAllTodo={this.checkAllTodo} deleteAllTodo={this.deleteAllTodo}/>\r\n                    </div>\r\n                </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Todo;\r\n","import React from 'react';\r\nimport './index.css';\r\n\r\n\r\nimport Todo from \"./Todo/Todo\";\r\n\r\nfunction App() {\r\n    return (\r\n        <Todo/>\r\n    )\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}